(this["webpackJsonppractical.ly"]=this["webpackJsonppractical.ly"]||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/metronome1.fd742d0f.flac"},11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),i=(n(16),n(1)),l=n(2),s=n(4),u=n(3),m=n(5),d=(n(17),n(9)),f=n.n(d),h=n(10),p=n.n(h),v=function(e,t,n){this.context=e,this.urlList=t,this.onload=n,this.bufferList=[],this.loadCount=0};v.prototype.loadBuffer=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer";var a=this;n.onload=function(){a.context.decodeAudioData(n.response,(function(n){n?(a.bufferList[t]=n,++a.loadCount===a.urlList.length&&a.onload(a.bufferList)):alert("error decoding file data: "+e)}),(function(e){console.error("decodeAudioData error",e)}))},n.onerror=function(){alert("BufferLoader: XHR error")},n.send()},v.prototype.load=function(){for(var e=0;e<this.urlList.length;++e)this.loadBuffer(this.urlList[e],e)};var E=v;window.AudioContext=window.AudioContext||window.webkitAudioContext;var y,g=new AudioContext,b=function(e){y=e[0]};f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===y&&new E(g,[p.a],b).load();case 1:case"end":return e.stop()}}));var w,C=0,N=[],k=function(e,t,n,a){var o=new AudioContext,r=e,c=60/r,i=o.currentTime+.2,l=0;w=setInterval((function(){for(var e=0;e<C;e++)N.shift();if(C=0,N.length<21)for(var s=1;s<21;s++){n&&a&&r<t&&l>a&&(l=0,(r+=n)>t&&(r=t),c=60/r);var u=o.createBufferSource();u.buffer=y,u.connect(o.destination),u.onended=function(){C+=1},l+=c,i+=c,u.start(i+c),N.push(u)}}),200)},B=function(){for(var e in clearInterval(w),N)N[e].stop()},S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={tempo:n.props.tempo||60,goal:n.props.goal||60,incrementBy:n.props.incrementBy||0,incrementEvery:n.props.incrementEvery||0,hidden:n.props.hidden||!1,howLong:n.props.howLong||10},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"changeTempo",value:function(e){""===e&&this.setState({tempo:0}),Number(e)&&this.setState({tempo:e})}},{key:"changeGoal",value:function(e){""===e?this.setState({goal:0}):this.setState({goal:e})}},{key:"changeIncrementBy",value:function(e){""===e?this.setState({incrementBy:0}):this.setState({incrementBy:e})}},{key:"changeIncrementEvery",value:function(e){""===e?this.setState({incrementEvery:0}):this.setState({incrementEvery:e})}},{key:"changeHowLong",value:function(e){""===e?this.setState({howLong:0}):this.setState({howLong:e})}},{key:"start",value:function(){var e=this.state,t=e.tempo,n=e.goal,a=e.incrementBy,o=e.incrementEvery;k(Number(t),Number(n),Number(a),Number(o))}},{key:"stopMetronome",value:function(){B()}},{key:"incrementBy10",value:function(){this.stopMetronome(),this.setState({tempo:this.state.tempo+10}),this.start()}},{key:"decrementBy10",value:function(){this.stopMetronome(),this.setState({tempo:this.state.tempo-10}),this.start()}},{key:"render",value:function(){var e=this;return this.state.hidden?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",{className:"module"},o.a.createElement("div",{className:"background"},o.a.createElement("h2",null,"Metronome"),o.a.createElement("ul",{className:"moduleContents"},o.a.createElement("div",{className:"moduleElement"},"Starting Tempo:",o.a.createElement("input",{type:"text",value:this.state.tempo,onChange:function(t){e.changeTempo(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Goal Tempo:",o.a.createElement("input",{type:"text",value:this.state.goal,onChange:function(t){e.changeGoal(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Increment by",o.a.createElement("input",{type:"text",value:this.state.incrementBy,onChange:function(t){e.changeIncrementBy(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Every",o.a.createElement("input",{type:"text",value:this.state.incrementEvery,onChange:function(t){e.changeIncrementEvery(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"HowLong?",o.a.createElement("input",{type:"text",value:this.state.howLong,onChange:function(t){e.changeHowLong(t.target.value)}}))),o.a.createElement("ul",null,o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return e.incrementBy10()}},"+10bpm")),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return e.decrementBy10()}},"-10bpm")),o.a.createElement("button",{className:"playMetronome",onClick:function(){return e.start(e.state.tempo)}},"Play"),o.a.createElement("button",{className:"stopMetronome",onClick:function(){return e.stopMetronome()}},"Stop"))))}}]),t}(o.a.Component),x=n(6);window.AudioContext=window.AudioContext||window.webkitAudioContext;var L=new AudioContext,A=[440,466.16,493.88,523.25,554.37,587.33,622.25,659.25,698.46,739.99,793.99,830.61],O=[],j=function(){var e=Object(a.useState)(1),t=Object(x.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(x.a)(c,2),l=i[0],s=i[1],u=function(e){!function(e){var t=A[e-1];if(console.log(t),!O[0]){var n=L.createOscillator(),a=L.createGain();O.push(n),O.push(a),n.type="sine",n.frequency.value=t,n.connect(a),a.connect(L.destination),n.start()}}(e),s(!0)},m=function(){!function(){for(var e in console.log(O),O)e%2===0&&O[e].stop();O=[]}(),s(!1)};return o.a.createElement("div",{className:"module"},o.a.createElement("div",{className:"background"},o.a.createElement("h1",null,"Drone Generator"),o.a.createElement("h2",null,"Pitch: ",function(e){return["A","Bb","B","C","C#","D","D#","E","F","F#","G","G#"][e-1]}(n)),o.a.createElement("ul",{className:"moduleContents"},o.a.createElement("div",{className:"moduleElement"},o.a.createElement("input",{className:"pitchSlider",type:"range",min:"1",max:"12",value:n,onChange:function(e){return function(e){r(e),l&&(m(),u(e))}(e.target.value)}})),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){u(n)}},"Start")),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return m()}},"Stop")))))},G=(new(window.AudioContext||window.webkitAudioContext),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={practiceStack:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",{className:"header"},"Auto Gnome"),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"moduleContainer"},o.a.createElement(S,{addToPracticeStack:this.addToPracticeStack,tempo:80,goal:100,incrementBy:5,incrementEvery:10}),o.a.createElement(j,null))))}}]),t}(o.a.Component));c.a.render(o.a.createElement(G,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.3b331197.chunk.js.map