(this["webpackJsonppractical.ly"]=this["webpackJsonppractical.ly"]||[]).push([[0],{10:function(e,t,n){e.exports=n.p+"static/media/metronome1.fd742d0f.flac"},11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(6),c=n.n(r),i=(n(16),n(1)),s=n(2),l=n(4),u=n(3),m=n(5),d=(n(17),n(9)),f=n.n(d),p=n(10),h=n.n(p),v=function(e,t,n){this.context=e,this.urlList=t,this.onload=n,this.bufferList=[],this.loadCount=0};v.prototype.loadBuffer=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer";var a=this;n.onload=function(){a.context.decodeAudioData(n.response,(function(n){n?(a.bufferList[t]=n,++a.loadCount===a.urlList.length&&a.onload(a.bufferList)):alert("error decoding file data: "+e)}),(function(e){console.error("decodeAudioData error",e)}))},n.onerror=function(){alert("BufferLoader: XHR error")},n.send()},v.prototype.load=function(){for(var e=0;e<this.urlList.length;++e)this.loadBuffer(this.urlList[e],e)};var E=v;window.AudioContext=window.AudioContext||window.webkitAudioContext;var y,b,g=new AudioContext,N=function(e){y=e[0]},C=function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===y&&new E(g,[h.a],N).load();case 1:case"end":return e.stop()}}))},w=0,k=[],B=function(e,t,n,a){arguments.length>4&&void 0!==arguments[4]&&arguments[4];g=new AudioContext,C();var o=e,r=60/o;console.log(g);var c=g.currentTime+.2,i=0;b=setInterval((function(){for(var e=0;e<w;e++)k.shift();if(w=0,k.length<21)for(var s=1;s<21;s++){n&&a&&o<t&&i>a&&(i=0,(o+=n)>t&&(o=t),r=60/o);var l=g.createBufferSource();l.buffer=y,l.connect(g.destination),l.onended=function(){w+=1},i+=r,c+=r,l.start(c+r),k.push(l)}}),200)},x=function(){if(b){for(var e in clearInterval(b),k)k[e].stop();k=[]}},S=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={tempo:n.props.tempo||60,goal:n.props.goal||60,incrementBy:n.props.incrementBy||0,incrementEvery:n.props.incrementEvery||0,isTesting:!1},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"changeTempo",value:function(e){""===e&&this.setState({tempo:0}),Number(e)&&e>9&&this.setState({tempo:e})}},{key:"changeGoal",value:function(e){""===e?this.setState({goal:0}):this.setState({goal:e})}},{key:"changeIncrementBy",value:function(e){x(),""===e?this.setState({incrementBy:0}):this.setState({incrementBy:e})}},{key:"changeIncrementEvery",value:function(e){x(),""===e?this.setState({incrementEvery:0}):this.setState({incrementEvery:e})}},{key:"start",value:function(){var e=this.state,t=e.tempo,n=e.goal,a=e.incrementBy,o=e.incrementEvery;B(Number(t),Number(n),Number(a),Number(o))}},{key:"stopMetronome",value:function(){x()}},{key:"incrementBy10",value:function(){this.stopMetronome(),Number(this.state.tempo)&&this.state.tempo>10&&(this.setState({tempo:this.state.tempo+10}),this.start())}},{key:"decrementBy10",value:function(){this.stopMetronome(),Number(this.state.tempo)&&this.state.tempo>10&&(this.setState({tempo:this.state.tempo-10}),this.start())}},{key:"render",value:function(){var e=this;return this.state.hidden?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",{className:"module"},o.a.createElement("div",{className:"background"},o.a.createElement("h1",{className:"moduleHeader"},"Metronome"),o.a.createElement("ul",{className:"moduleContents"},o.a.createElement("div",{className:"moduleElement"},"Starting Tempo",o.a.createElement("input",{type:"text",value:this.state.tempo,onChange:function(t){e.changeTempo(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Goal Tempo",o.a.createElement("input",{type:"text",value:this.state.goal,onChange:function(t){e.changeGoal(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Increment by",o.a.createElement("input",{type:"text",value:this.state.incrementBy,onChange:function(t){e.changeIncrementBy(t.target.value)}})),o.a.createElement("div",{className:"moduleElement"},"Every",o.a.createElement("input",{type:"text",value:this.state.incrementEvery,onChange:function(t){e.changeIncrementEvery(t.target.value)}}))),o.a.createElement("ul",null,o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return e.incrementBy10()}},"+10bpm")),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return e.decrementBy10()}},"-10bpm")),o.a.createElement("button",{className:"playMetronome",onClick:function(){return e.start()}},"Start"),o.a.createElement("button",{className:"stopMetronome",onClick:function(){return e.stopMetronome()}},"Stop"))))}}]),t}(o.a.Component),A=n(7);window.AudioContext=window.AudioContext||window.webkitAudioContext;var O=new AudioContext,j=[440,466.16,493.88,523.25,554.37,587.33,622.25,659.25,698.46,739.99,793.99,830.61],T=[],G=function(){var e=Object(a.useState)(1),t=Object(A.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),i=Object(A.a)(c,2),s=i[0],l=i[1],u=function(e){!function(e){var t=j[e-1];if(console.log(t),!T[0]){var n=O.createOscillator(),a=O.createGain();T.push(n),T.push(a),n.type="sine",n.frequency.value=t,n.connect(a),a.connect(O.destination),n.start()}}(e),l(!0)},m=function(){!function(){for(var e in console.log(T),T)e%2===0&&T[e].stop();T=[]}(),l(!1)};return o.a.createElement("div",{className:"module"},o.a.createElement("div",{className:"background"},o.a.createElement("h1",{className:"moduleHeader"},"Drone Generator"),o.a.createElement("h2",{className:"pitchName"},"Pitch: ",function(e){return["A","Bb","B","C","C#","D","D#","E","F","F#","G","G#"][e-1]}(n)),o.a.createElement("ul",{className:"moduleContents"},o.a.createElement("div",{className:"moduleElement"},o.a.createElement("input",{className:"pitchSlider",type:"range",min:"1",max:"12",value:n,onChange:function(e){return function(e){r(e),s&&(m(),u(e))}(e.target.value)}})),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){u(n)}},"Start")),o.a.createElement("div",{className:"moduleElement"},o.a.createElement("button",{className:"moduleButton",onClick:function(){return m()}},"Stop")))))},I=(new(window.AudioContext||window.webkitAudioContext),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={practiceStack:[]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",{className:"header"},"Auto Gnome"),o.a.createElement("div",{className:"main"},o.a.createElement("div",{className:"moduleContainer"},o.a.createElement(S,{addToPracticeStack:this.addToPracticeStack,tempo:80,goal:100,incrementBy:5,incrementEvery:10}),o.a.createElement("div",{className:"break"}),o.a.createElement(G,null))))}}]),t}(o.a.Component));window.webkitAudioContext?c.a.render(o.a.createElement("div",null,"Sorry, this browser isn't supported. You have to use Chrome for AudioContext to work correctly!"),document.getElementById("root")):c.a.render(o.a.createElement(I,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.ae063f66.chunk.js.map